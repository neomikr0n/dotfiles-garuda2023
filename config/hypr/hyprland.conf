
monitor=,preferred,auto,1
source=/etc/X11/xinit/xinitrc.d/50-systemd-user.sh

# Directories
$scriptsDir = ~/.dotfiles/bin
$soundsDir = ~/.config/hypr/sounds      #TODO:
$picsDir =  ~/Pictures/
$configDir = ~/.config/hypr/configs/

exec-once = $scriptsDir/startup
# SETTINGS  TODO:
# Choose oneof each block, comment the rest:

source=$configDir/hyprland.conf_settings-GRAVITY
# source=$configDir/hyprland.conf_settings-NOSVAGOR
# source=$configDir/hyprland.conf_settings-JAKOOLIT

# -----------------------------------------------------------------
# -----------------------------------------------------------------
# CUSTOM scripts
# -----------------------------------------------------------------
# -----------------------------------------------------------------
exec-once = $scriptsDir/videowallpaper-change test

# Lauch statusbar (waybar)
exec-once = $scriptsDir/statusbar

# Lauch notifications (swaync)
exec-once = $scriptsDir/notifications

# stefonarch's dotfiles
# https://github.com/stefonarch/LXQt-Wayland-files/blob/9d13e8c1bf5fb28abce1efca340ba38d9d976cd2/start_scripts/startlxqthyprland#L73
# exec-once = $HOME/.config/hypr/scripts/LXQt-Wayland.sh

# nawfalmrouyan's execs
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
#exec-once = /usr/lib/xfce-polkit/xfce-polkit &

# Gnome applications slow start due to failing service
# https://bbs.archlinux.org/viewtopic.php?id=224787 
# maybe add next line to .xinitrc or .xsession ???? TODO:
# exec-once = dbus-update-activation-environment --systemd DBUS_SESSION_BUS_ADDRESS DISPLAY XAUTHORITY # TODO:
# wiki suggests:
# exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec-once = systemctl --user import-environment XAUTHORITY
exec-once = killall xdg-desktop-portal-hyprland xdg-desktop-portal
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=Hyprland

# already working, but trying to improve:
# exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec-once = dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP --all # TODO: working on it...

exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP
exec-once = hash dbus-update-activation-environment 2>/dev/null && dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP --all
exec-once = dbus-update-activation-environment --systemd DBUS_SESSION_BUS_ADDRESS DISPLAY XAUTHORITY
# exec-once = $scriptsDir/portal
exec-once = /usr/lib/xdg-desktop-portal
exec-once = /usr/libexec/xdg-desktop-portal-hyprland
exec-once = systemctl --user restart xdg-desktop-portal.service
4252711



# -----------------------------------------------------------------
# -----------------------------------------------------------------
# CUSTOM nawfalmrouyan
# -----------------------------------------------------------------
# -----------------------------------------------------------------
$mainMod = SUPER
$triMod = SUPER CTRL ALT

$test= notify-send --urgency=normal --icon=firedragon -t 555 -e "test..." "‚åõ0% [ ‚ñà ‚ñà ‚ñà ‚ñà ‚ñà ‚ñà ‚ñà ] 100%"
# ‚åõ ‚ïë‚ñå‚ïë‚ñà‚ïë‚ñå‚îÇ‚ïë‚ñå‚ïë‚ñå‚ñà   ·óß¬∑¬∑¬∑·ó£¬∑¬∑¬∑·ó£¬∑¬∑
# --expire-time=909 

$menu = $scriptsDir/menu
$powermenu = $scriptsDir/powermenu
$volume = $scriptsDir/volume
$exit = $scriptsDir/exit
$backlight = $scriptsDir/brightness
$screenshot = $scriptsDir/grimblast
# $wlogout = archlinux-logout
$colorpicker = $scriptsDir/colorpicker
$wofi_beats = $scriptsDir/wofi-beats
$files = thunar
$browser = firedragon
$music = spotify
$term = foot

# everyone floats üéà
windowrule = float, title:^(Library|wev)$
# windowrule = float, class:^(firedragon)$
windowrule = float, yad|nm-connection-editor|pavucontrol|Rofi|Gimp|qalculate-gtk|qt5ct|feh|wlogout|MEGAsync|eog|org.kde.rsibreak

windowrule = move 0 0, wlogout
windowrule = size 100% 100%, wlogout
windowrule = animation slide, wlogout

# nawfalmrouyan's windows rules
# $browser stuff
windowrule = float, title:^(FireDragon ‚Äî Sharing Indicator)$
windowrule = move 1577 15, title:^(FireDragon ‚Äî Sharing Indicator)$
windowrulev2 = float, class:^(firedragon)$, title:^(Picture-in-Picture)$
windowrulev2 = pin, class:^(firedragon)$, title:^(Picture-in-Picture)$

# for ttyclock
windowrulev2 = float, class:^(clock)$, title:^(clock)$
windowrulev2 = size 33% 27%, class:^(clock)$, title:^(clock)$
windowrulev2 = center, class:^(clock)$, title:^(clock)$

# for waybar garuda-update on terminal (alacritty) (click update)s
windowrulev2 = animation popin, title:^(garuda-update)$
windowrulev2 = float, title:^(garuda-update)$
windowrulev2 = size 22% 22%, title:^(garuda-update)$
windowrulev2 = move 1288 1088, title:^(garuda-update)$
windowrulev2 = opacity 0.9 override 0.22 override, title:^(garuda-update)$
windowrulev2 = dimaround, class:^(garuda-update)$, title:^(garuda-update)$

windowrulev2 = float, title:^(MEGAsync)$
windowrulev2 = move 847 3005, title:^(MEGAsync)$ TODO:

windowrulev2 = float,class:^(Steam)$,title:^(Friends List)(.*)$
windowrulev2 = size 391 1225,class:^(Steam)$,title:^(Friends List)$ 
windowrulev2 = dimaround, class:^(wofi)$


bind = WIN, F1, exec, $scriptsDir/gamemode.sh

# VOLUME control: TODO: choose one of the options
## script
# bind"e" -> means it will repeat when held. 
binde= , xf86audioraisevolume, exec, $volume --inc
binde= , xf86audiolowervolume, exec, $volume --dec
bind= , xf86audiomute, exec, $volume --toggle
bind= CTRL, xf86audiomute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle

## avizo
# binde= , xf86audioraisevolume, exec, volumectl -u up
# binde= , xf86audiolowervolume, exec, volumectl -u down
# bind= , xf86audiomute, exec, volumectl toggle-mute
## swayOSD
#  binde= , xf86audioraisevolume, exec, swayosd --output-volume raise
#  binde= , xf86audiolowervolume, exec, swayosd --output-volume lower
#  bind= , xf86audiomute, exec, swayosd --output-volume mute-toggle
#  bindr=ALT,Alt_L, exec, swayosd --caps-lock # ‚ùå

bind=KEY_CAPSLOCK,l, exec, $test        # ‚úÖ
bind=$mainMod,code:66, exec, $test      # ‚ùå
bindr=SUPER,code:66,exec, $test         # ‚ùå
# NOT working: Caps_Lock Caps_Lock+ Caps caps CapsLock capslock 
# WORKING: KEY_CAPSLOCK, CAPS, caps_lock

# Screenshots
bind = , Print, exec, $screenshot copysave area
bind = CTRL, Print, exec, $screenshot copysave output
bind = $triMod, Print, exec, $screenshot copysave area; ksnip
# bind = , Print, exec, $screenshot --area
# bind = CTRL, Print, exec, $screenshot --win
# bind = $mainMod CTRL, Print, exec, $screenshot --now

bind = $mainMod, G, togglegroup
bind = $mainMod, tab, changegroupactive

# Special Keys

bindl = , xf86audioplay, exec, playerctl play-pause
bindl = , xf86audionext, exec, playerctl next
bindl = , xf86audioprev, exec, playerctl previous
bindl = , XF86Calculator, exec, qalculate-gtk
bindl = , xf86monbrightnessup, exec, $brightness --inc
bindl = , xf86monbrightnessdown, exec, $brightness --dec

# Backlight control
# bind = $mainMod SHIFT, equal, submap, backlight
# submap = backlight
# bind = , equal, exec, $backlight --inc
# bind = , minus, exec, $backlight --dec
# bind = , escape, submap, reset
# submap = reset

# Others
bind = , XF86Calculator, exec, qalculate-gtk
bind = $mainMod, E, exec, PATH=$HOME/.local/bin:$PATH EDITOR=lvim kitty -1 --class lf lf
# bind = $mainMod, x, exec, $colorpicker
# bind = $mainMod, x, exec, hyprpicker -a && (convert -size 32x32 xc:$(wl-paste) /tmp/color.png && notify-send -e "Color Code:" "$(wl-paste)" -h "string:bgcolor:$(wl-paste)" --icon /tmp/color.png -u low -t 4000)
bind = $mainMod, x, exec, hyprpicker -a && (convert -size 32x32 xc:$(wl-paste) $picsDir/color.png && notify-send "Color Code:" "$(wl-paste)" -h "string:bgcolor:$(wl-paste)" --icon $picsDir/color.png -u low -t 4000)
bindr = $mainMod SHIFT, Y, exec, pkill wofi || $wofi_beats

# Shimeji's rules:
# The app indicator probably won‚Äôt show, so you‚Äôll have to killall -9 java to kill them.
windowrule=float, com-group_finity-mascot-Main
windowrule=noblur, com-group_finity-mascot-Main
windowrule=nofocus, com-group_finity-mascot-Main
windowrule=noshadow, com-group_finity-mascot-Main
windowrule=noborder, com-group_finity-mascot-Main
# -----------------------------------------------------------------
# -----------------------------------------------------------------
# CUSTOM n30's shortcuts
# -----------------------------------------------------------------
# -----------------------------------------------------------------

# AUDIO/VOLUME/PARAMETRIC EQ/PIPEWIRE 
# "wpctl status" & "pactl list sinks short" will output info (sinks, devices, etc).
bind= $triMod,Kp_End,exec,pactl set-default-sink alsa_output.usb-Topping_D30-00.analog-stereo; notify-send -e '         üéß BEYERDYNAMIC üéß'
bind= $triMod,Kp_Down,exec,pactl set-default-sink alsa_output.pci-0000_00_1f.3.analog-stereo; notify-send -e '               üéß SONY 1000 üéß'
bind= $triMod,Kp_Next,exec,pactl set-default-sink alsa_output.usb-Burr-Brown_from_TI_USB_Audio_DAC-00.analog-stereo; notify-send -e "                üîä BOCINAS üîä"
# wpctl set-default vs pactl set-default-sink... ü§î
bind=CTRL,space,exec,pkill wofi || $scriptsDir/volume_audio_changer.py
bind= $triMod,P,exec,systemctl --user restart pipewire-pulse.service | systemctl --user restart pipewire.socket | systemctl --user restart wireplumber pipewire pipewire-pulse     #pipewire restart


# NIGHT MODE
# This allows using keybindings to dynamically change the color temperature and software brightness, wl-gammarelay is a daemon which listens to DBus requests:
# https://github.com/jeremija/wl-gammarelay
exec = wl-gammarelay 
bind= $triMod,Kp_Left,exec,busctl --user -- set-property rs.wl-gammarelay / rs.wl.gammarelay Temperature q 6500
bind= $triMod,Kp_Begin,exec,busctl --user -- set-property rs.wl-gammarelay / rs.wl.gammarelay Temperature q 4500
bind= $triMod,Kp_Right,exec,busctl --user -- set-property rs.wl-gammarelay / rs.wl.gammarelay Temperature q 2500
# busctl --user -- call rs.wl-gammarelay / rs.wl.gammarelay UpdateTemperature n +100
# busctl --user -- call rs.wl-gammarelay / rs.wl.gammarelay UpdateTemperature n -100

# CUSTOM binds
bind= $triMod,D,exec,killall dunst & dunst
bind= $triMod,K,exec,kate
bind= $triMod,W,exec,killall -q waybar & sleep 0.5 && waybar -c $HOME/.config/hypr/component/waybar/config -s $HOME/.config/hypr/component/waybar/style.css & notify-send -h int:value:10 WAYBAR restarting!... ‚è≥ # restarting waybar

bind= $triMod,G,exec, $scriptsDir/misc --gamescope2560
windowrulev2 = idleinhibit focus, class:^(gamescope).*

bind= CTRL ALT,right,exec, hyprctl dispatch workspace e+1 ; play -v 0.1 "$soundsDir/change_workspace.wav"
bind= CTRL ALT,left,exec, hyprctl dispatch workspace e-1 ; play -v 0.1 "$soundsDir/change_workspace.wav"

# bind= SUPER, Tab,exec,sh $scriptsDir/sway-select-window # TODO: 3 years old, not working?üòî
bind= SUPER, Tab, exec,pkill nwg-drawer && nwg-drawer -c 7 -is 70 -spacing 23 #gnomesque menu

# exit.sh shortcuts
bind= $triMod,Delete,exec, $exit --shutdown      # for test code
# bind= $triMod,Delete,exec, $exit --shutdown
bind= CTRL ALT,Delete,exec, $exit --restart
bind= CTRL,Delete,exec, $exit --logout
bind= $mainMod,l,exec, sleep .5 && hyprctl dispatch dpms off
bind= $mainMod CTRL,l,exec, $exit --lock
bind= $triMod,l,exec, $exit --suspend


# TODO: BRIGHTNESS
# Brightness using haikarainen/light:
# bindsym XF86MonBrightnessUp exec light -A 5 && light -G | cut -d'.' -f1 > $WOBSOCK
# bindsym XF86MonBrightnessDown exec light -U 5 && light -G | cut -d'.' -f1 > $WOBSOCK
#
# Brightness using brightnessctl:
# bindsym XF86MonBrightnessDown exec brightnessctl set 5%- | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $WOBSOCK
# bindsym XF86MonBrightnessUp exec brightnessctl set +5% | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $WOBSOCK


# -----------------------------------------------------------------

# ‚ñà‚ñÄ‚ñÑ‚ñÄ‚ñà‚ÄÉ‚ñà‚ÄÉ‚ñà‚ñÄ‚ÄÉ‚ñà‚ñÄ‚ñÄ
# ‚ñà‚ñë‚ñÄ‚ñë‚ñà‚ÄÉ‚ñà‚ÄÉ‚ñÑ‚ñà‚ÄÉ‚ñà‚ñÑ‚ñÑ

# testing
windowrule=size 88% 11%,title:^(lol)$
windowrule=move 111 111,title:^(lol)$
windowrule=float,title:^(lol)$
windowrule=maxsize 900 900,title:^(_lol)$
windowrule= minsize 999 988,title:^(_lol)$
bind = $triMod, Return, exec, kitty --title lol

# settings for spotify-session.sh
bind= $triMod,S,exec,sh $scriptsDir/spotify-session.sh
windowrulev2 = float, title:^(spotify-cava)$
windowrule=move 17 1154,title:^(spotify-cava)$
windowrule=size 2606 298,title:^(spotify-cava)$
windowrulev2 = float, title:^(spotify-glava)$
windowrule=size 99 99,title:^(spotify-glava)$
windowrulev2 = float, class:^(GLava)$
windowrule=move 18 69,class:^(GLava)$
windowrule=size 743 124,title:^(GLava)$
windowrulev2 = float, title:^(spotify-timer)$
windowrule=move 14 694,title:^(spotify-timer)$
windowrule=size 752 443,title:^(spotify-timer)$
windowrulev2 = float, title:^(Spotify)$
windowrule=move 2643 68,title:^(Spotify)$
windowrule=size 784 1367,title:^(Spotify)$
windowrule=move 11 210,title:^(screenshot_garuda_2023-02-08-18-58-26_11824.png)$
windowrule=size 22% 33%,title:^(screenshot_garuda_2023-02-08-18-58-26_11824.png)$


bind = SUPER, Return, exec, $term
bind = $triMod, T, exec, thunar
bind = $triMod, F, exec, $browser
# bind = SUPER, D, exec, killall rofi || rofi -show drun -theme ~/.config/rofi/global/rofi.rasi
# bind = SUPER, period, exec, killall rofi || rofi -show emoji -emoji-format "{emoji}" -modi emoji -theme ~/.config/rofi/global/emoji
bind = $triMod, escape, exec, wlogout --protocol layer-shell -b 5 -T 400 -B 400

# wev
windowrule = move 3000 70, wev
windowrule=size 400 100,title:^(wev)$


# ‚ñà‚ñë‚ñà‚ñë‚ñà‚ÄÉ‚ñà‚ÄÉ‚ñà‚ñÑ‚ñë‚ñà‚ÄÉ‚ñà‚ñÄ‚ñÑ‚ÄÉ‚ñà‚ñÄ‚ñà‚ÄÉ‚ñà‚ñë‚ñà‚ñë‚ñà‚ÄÉ ‚ÄÉ‚ñà‚ñÄ‚ñÑ‚ñÄ‚ñà‚ÄÉ‚ñÑ‚ñÄ‚ñà‚ÄÉ‚ñà‚ñÑ‚ñë‚ñà‚ÄÉ‚ñÑ‚ñÄ‚ñà‚ÄÉ‚ñà‚ñÄ‚ñÄ‚ÄÉ‚ñà‚ñÄ‚ñÑ‚ñÄ‚ñà‚ÄÉ‚ñà‚ñÄ‚ñÄ‚ÄÉ‚ñà‚ñÑ‚ñë‚ñà‚ÄÉ‚ñÄ‚ñà‚ñÄ
# ‚ñÄ‚ñÑ‚ñÄ‚ñÑ‚ñÄ‚ÄÉ‚ñà‚ÄÉ‚ñà‚ñë‚ñÄ‚ñà‚ÄÉ‚ñà‚ñÑ‚ñÄ‚ÄÉ‚ñà‚ñÑ‚ñà‚ÄÉ‚ñÄ‚ñÑ‚ñÄ‚ñÑ‚ñÄ‚ÄÉ ‚ÄÉ‚ñà‚ñë‚ñÄ‚ñë‚ñà‚ÄÉ‚ñà‚ñÄ‚ñà‚ÄÉ‚ñà‚ñë‚ñÄ‚ñà‚ÄÉ‚ñà‚ñÄ‚ñà‚ÄÉ‚ñà‚ñÑ‚ñà‚ÄÉ‚ñà‚ñë‚ñÄ‚ñë‚ñà‚ÄÉ‚ñà‚ñà‚ñÑ‚ÄÉ‚ñà‚ñë‚ñÄ‚ñà‚ÄÉ‚ñë‚ñà‚ñë
bind = $mainMod, Q, killactive,
bind = $mainMod SHIFT, Q, exit,
bind = $mainMod, F, fullscreen,
# bind = SUPER CTRL, Space, togglefloating,
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, S, togglesplit, # dwindle


# example window rules
# for windows named/classed as abc and xyz
# windowrule=move 69 420,abc
windowrule=move center,title:^(fly_is_kitty)$
windowrule=size 800 500,title:^(fly_is_kitty)$
windowrule=float,title:^(fly_is_kitty)$

#windowrule=tile,xy
windowrule=tile,title:^(kitty)$
windowrule=float,title:^(clock_is_kitty)$
windowrule=size 340 211,title:^(clock_is_kitty)$
#windowrule=pseudo,abc
#windowrule=monitor 0,xyz

windowrule=size 340 211,title:^(clock_is_kitty)$

# Move/resize windows with mainMod + LMB/RMB and dragging
# 272<-left Ô°º right->273
bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow
# bind=,mouse:273,exec,kitty  #

# --title all_is_kitty
windowrule=animation slide,title:^(all_is_kitty)$
windowrule=float,title:^(all_is_kitty)$
bind=SUPER,t,exec,kitty --start-as=fullscreen -o 'font_size=25' --title all_is_kitty

# bind=SUPER,RETURN,exec,kitty --title fly_is_kitty
bind=ALT,RETURN,exec,kitty --single-instance

bind=SUPER,S,togglefloating,
bind=SUPER,P,pseudo,

windowrulev2 = animation slide, class:^(wofi)$
windowrulev2 = move 100%-433 103, class:^(wofi)$, title:^(clippick)$
# bind=ALT,space,exec,rofi -show drun
bind=ALT,space,exec,pkill wofi || wofi --show drun -o DP-3 --width 500 --heigh 888
bind=SUPER,space,exec,pkill wofi || wofi-emoji --show drun -o DP-3 --width 333 --height 999
# bind= SUPER , Space, exec,nwg-drawer -c 7 -is 70 -spacing 23 #gnomesque menu
bind = $triMod, V, exec, pkill wofi || cliphist list | wofi --dmenu -p clippick -l top_right -x -15 -y 10 -n | cliphist decode | wl-copy
bind = $triMod,n, exec, swaync-client -t
bind=KEY_CAPSLOCK,n, exec, $scriptsDir/notifications & swaync-client -rs

bind= $triMod,M,exec, $test
# wofi --show=dmenu --hide-scroll --allow-markup --define=hide_search=false --location=top_right --width=311 --height=200 --xoffset=-660 --yoffset=11
# bind=CTRL,space,exec,pkill wofi || wofi-calc --width 100 --heigh 500      #calculator
# bind=CTRL,space,exec,pkill wofi || wofi-symbol --show drun -o DP-3 --width 500 --heigh 1000


bind=SUPER,left,movefocus,l
bind=SUPER,right,movefocus,r
bind=SUPER,up,movefocus,u
bind=SUPER,down,movefocus,d

# col.active_border = rgba(ffffff00) rgba(ffffff00) rgba(ffffff00) 270deg
# bezier = linear, 0.0, 0.0, 1.0, 1.0
# animation=borderangle, 1, 100, linear, loop


# Special workspace scratchpad
bind = ALT, bar, movetoworkspace, special
bindr = $mainMod, $mainMod_L, togglespecialworkspace,
# animation=specialWorkspace,1,8,default     # styles: slide, slidevert, fade
bezier=myBezier,0.05,0.9,0.1,1.1
# windowrule = specialWorkspace, 1, myBezier, slidevert
# start kitty scratchpad. Call using $mainMod+U (toggle special workspace)
# bind=$triMod,j,exec,scratchpad
# bind=$triMod,j,exec,scratchpad -g     #To bring back client from scratchpad to current workspace.
# exec-once = [workspace special] $term -1

bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8
bind=SUPER,9,workspace,9
bind=SUPER,0,workspace,10
bind = $mainMod, Grave, workspace, empty # The key before '1' (backtick/tilde) (¬∞|¬∞)    # TODO:

bind=ALT,1,movetoworkspacesilent,1
bind=ALT,2,movetoworkspacesilent,2
bind=ALT,3,movetoworkspacesilent,3
bind=ALT,4,movetoworkspacesilent,4
bind=ALT,5,movetoworkspacesilent,5
bind=ALT,6,movetoworkspacesilent,6
bind=ALT,7,movetoworkspacesilent,7
bind=ALT,8,movetoworkspacesilent,8
bind=ALT,9,movetoworkspacesilent,9
bind=ALT,0,movetoworkspacesilent,10
bind=ALT,Grave,movetoworkspacesilent, empty
# bind = $mainMod SHIFT, bracketleft, movetoworkspacesilent, -1
# bind = $mainMod SHIFT, bracketright, movetoworkspacesilent, +1

bind= SHIFT ALT, 1, movetoworkspace, 1
bind=SHIFTALT,2, movetoworkspace, 2
bind=SHIFTALT,3, movetoworkspace, 3
bind=SHIFTALT,4, movetoworkspace, 4
bind=SHIFTALT,5, movetoworkspace, 5
bind=SHIFTALT,6, movetoworkspace, 6
bind=SHIFTALT,7, movetoworkspace, 7
bind=SHIFTALT,8, movetoworkspace, 8
bind=SHIFTALT,9, movetoworkspace, 9
bind=SHIFTALT,0, movetoworkspace, 10
bind=SHIFTALT,Grave, movetoworkspace, empty
bind=SHIFTALT,bracketleft, movetoworkspace, -1
bind=SHIFTALT,bracketright, movetoworkspace, +1

# Scroll through existing workspaces with mainMod + scroll
bind=SUPER,mouse_down,workspace,e+1
bind=SUPER,mouse_up,workspace,e-1

bind=SUPER,g,togglegroup
bind=SUPER,tab,focusUrgentOrLast    #allows to switch back and forth (toggle) between the currently focused and the previously focused window across workspaces or within the same workspace.

# recorded video of reddit appeareances
bind=CTRL,1,exec,kitty --title fly_is_kitty --hold cava
bind=CTRL,2,exec,code-insiders
bind=CTRL,3,exec,kitty --single-instance --hold donut.c
bind=CTRL,4,exec,kitty --title clock_is_kitty --hold tty-clock -C5B
exec-once = pkill thunar whatsapp-nativefier WhatsApp whatsapp

# script for mpvpaper:
bind= $triMod,1,exec,bash $scriptsDir/videowallpaper-change code
bind= $triMod,2,exec,bash $scriptsDir/videowallpaper-change music
bind= $triMod,3,exec,bash $scriptsDir/videowallpaper-change test

bind = $triMod, H, exec, $scriptsDir/misc --heroic

# https://bbs.archlinux.org/viewtopic.php?id=280661
# The issue with portals was that hyprland wiki suggested making a script that restarts these portals, which killed the original running proccesses of these, and started them directly without using systemd. They then failed to restart because they were already running.

exec-once = swayidle -w timeout 120 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on' before-sleep '$lock'
# exec-once = swayidle -w timeout 920 '$lock' timeout 180 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on' before-sleep '$lock' # will lock the system at 920second and will turn down monitor after 3 minuts (180 seconds)

# rules for opacity on some windows:
# exec-once = echo latam > /tmp/kb_layout    # TODO: erase? is old code, used by an script for Switchable keyboard layouts
windowrule=opacity 0.90 0.90,qalculate-gtk
windowrule=opacity 0.90 0.90,thunar
windowrule=opacity 0.85 0.85,whatsapp
windowrule=opacity 0.85 0.85,discord
windowrule=opacity 0.85 0.85,easyeffects
windowrule=opacity 0.85 0.85,MEGAsync
windowrule=opacity 0.90 0.90,pavucontrol
windowrule=opacity 0.55 0.33,ktimer
windowrule=opacity 0.45 0.45,spotify    # TODO: not working
windowrule=opacity 0.95 0.95,$browser

# blurls=waybar # TODO: erase? 

# Spawn scratchpad terminals:
exec-once = [workspace special silent] $term
exec-once = hyprctl dispatch exec [workspace special silent] 'kitty --title garuda-update -e garuda-update' 


# exec-once = [workspace 2] sleep 1 && $browser
exec-once = [workspace 1 silent] discord
exec-once = [workspace 1 silent] sleep 10 && whatsie
exec-once = [workspace 2] code
exec-once = [workspace 3 silent] kate
exec-once = [workspace 3 silent] dolphin
exec-once = [workspace 5 silent] easyeffects
exec-once = [workspace 5 silent] safeeyes
exec-once = [workspace 5 silent] corectrl
exec-once = [workspace 5 silent] megasync
exec-once = [workspace 5 silent] qbittorrent
exec-once = [workspace 5 silent] copyq
exec-once = [workspace 5 silent] ksnip
exec-once = [workspace 5 silent] joystickwake   # chaotic-aur/joystickwake 0.4-1 üëå
exec-once = [workspace 6 silent] wezterm -e "btop"
# exec-once = sleep 10 && [workspace 1 silent] whatsapp-nativefier
# exec-once = [workspace 5 silent] caffeine start
# exec-once = [workspace 2 silent] GDK_BACKEND="x11" workrave
exec-once = [workspace 5 silent] xsettingsd     # Provides settings to X11 applications via the XSETTINGS specification
# exec-once = [workspace 5 silent] solaar -w hide
# exec-once = [workspace 2] sleep 2 && code --title code_scripts

# windowrulev2 = float,class:org.qbittorrent.qBittorrent
windowrulev2 = dimaround,class:'org.qbittorrent.qBittorrent' #TODO: not working! edit directly?

TODO: 
# Maybe grouped to firedragon? master layout? looks so cool on workspace 2 ü•∞
# glava -e "bars_rc.glsl" & disown
# glava -e "radial_rc.glsl" & disown

# exec-once = hyprctl dispatch exec [workspace 2] $browser
exec-once = bash $scriptsDir/misc --openbrowser
exec-once = bash $scriptsDir/misc --heroic

